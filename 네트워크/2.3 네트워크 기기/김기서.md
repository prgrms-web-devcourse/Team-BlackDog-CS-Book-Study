# 2.3 네트워크 기기

- 네트워크는 여러 개의 네트워크 기기를 기반으로 구축된다.
- 기기들은 계층별로 처리 범위를 나눌 수 있다.

# 1. 네트워크 기기의 처리 범위

- **상위 계층**을 처리하는 기기는 **하위 계층**을 처리할 수 있지만 **그 반대는 불가능하다.**

```
1) 애플리케이션 계층
    - L7 스위치

2) 인터넷 계층
    - 라우터
    - L3 스위치

3) 데이터 링크 계층
    - L2 스위치
    - 브리지

4) 물리 계층
    - NIC
    - 리피터
    - AP
```

## 2.3.1 애플리케이션 계층을 처리하는 기기

### L7 스위치

- 로드밸런서라고도 하며, 서버의 부하를 분산하는 기기
- 클라이언트로부터 오는 요청들을 여러 서버로 나누는 역할
- 시스템이 처리할 수 있는 트래픽 증가가 목표
- URL, 서버, 캐시, 쿠키들을 기반으로 트래픽을 분산
- 정기 **헬스 체크**를 이용해 장애가 발생한 서버를 감지하여 트래픽 분산 대상에서 제외한다.

<aside>
💡 **L4스위치와 L7스위치의 차이**

**L4 스위치**

- 전송 계층을 처리하는 기기
- IP와 포트를 기반으로 트래픽을 분산 ↔ **L7**은 IP, 포트 외에도 URL, HTTP 헤더, 쿠키 등을 기반으로 트래픽을 분산한다.
</aside>

### 헬스 체크

- 정상적인 서버 또는 비정상적인 서버를 판별하는 방법
- 전송 주기와 재전송 횟수 등을 설정하여 반복적으로 서버에 요청을 보내는 것

### 로드밸런서를 이용한 서버 이중화

- 서버 이중화는 로드밸런서의 대표 기능
- 2대 이상의 서버를 기반으로 가상 IP를 제공하여 안정적인 서비스를 제공

![image](https://user-images.githubusercontent.com/81108344/210361802-a8d4a4f8-72b8-4c7d-9eb6-74bfc37abafd.png)

## 2.3.2 인터넷 계층을 처리하는 기기

### 라우터

![image](https://user-images.githubusercontent.com/81108344/210361808-9eea22d5-111b-4c2c-9402-8a628d490e2f.png)

- 여러 개의 네트워크를 연결, 분할, 구분시켜주는 역할
- 다른 네트워크에 존재하는 장치끼리 서로 데이터를 주고받을 때 패킷 소모를 최소화하고 **경로를 최적화**하여 최소 경로로 패킷을 포워딩한다.

### L3 스위치(라우터)

- L2 스위치의 기능과 라우팅 기능을 갖춘 장비
- 소프트웨어 기반의 라우팅
- 하드웨어 기반의 라우팅 = L3 스위치

## 2.3.3 데이터 링크 계층을 처리하는 기기

### L2 스위치

![image](https://user-images.githubusercontent.com/81108344/210361832-9e2f0506-26b9-4316-a1f8-1d573dd9191d.png)
- 장치들의 MAC 주소를 **MAC 주소 테이블**을 통해 관리
- 연결된 장치로부터 패킷이 왔을 때 패킷을 전송
- IP 주소 기반의 라우팅은 불가 (IP 주소를 이해할 수 없음)

### 브리지

- 두 개의 근거리 통신망을 상호 접속할 수 있도록 하는 통신망 연결 장치
- 포트와 포트 사이의 다리 역할
- 장치에서 받아온 MAC 주소를 MAC 주소 테이블로 관리

## 2.3.4 물리 계층을 처리하는 기기

### NIC

- 네트워크 인터페이스 카드는 2대 이상의 컴퓨터 네트워크를 구성하는 데 사용
- 네트워크와 빠른 속도로 데이터를 송수신 할 수 있도록 컴퓨터 내에 설치하는 확장 카드
- 각 LAN 카드는 고유한 식별번호인 MAC 주소를 포함하고 있다.

### 리피터

![image](https://user-images.githubusercontent.com/81108344/210361843-2109a91b-2e7c-4dd9-ae5c-1c6eb7856309.png)
- 들어오는 약해진 신호 정도를 증혹하여 다른 쪽으로 전달하는 장치
- 이를 통해 패킷이 더 멀리 갈 수 있다

### AP(공유기)

- 패킷을 복사하는 기기
- AP에 유선 LAN을 연결한 후 다른 장치에서 무선 LAN 기술(와이파이)을 사용하여 무선 네트워크연결 가능